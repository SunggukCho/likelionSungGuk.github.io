---
title: 처음부터 끝까지 상세히 알아보자! - HTTP/3에 대한 A TO Z
date: 2021-08-14 23:18:01
permalink: /:short_year-:month-:day/:title
categories: [frontend, web/network]
tags: [HTTP3, 프로토콜]
---

# HTTP/3 FROM A To Z: Core Concepts (Part 1) by Robin Marx

원문링크: [https://www.smashingmagazine.com/2021/08/http3-core-concepts-part1/](https://www.smashingmagazine.com/2021/08/http3-core-concepts-part1/)

이 글은 *Robin Marx*의 [**HTTP/3 FROM A To Z: Core Concepts (Part1)**](https://www.smashingmagazine.com/2021/08/http3-core-concepts-part1/)을 번역하였습니다.

## Quick Summary

약 5년여간의 개발 끝에, 새로운 HTTP/3 프로토콜이 거의 막바지 단계에 이르렀다. 이미 실험적 기능으로 몇몇의 기능은 제공되었음에도 불구하고 HTTP/3의 가용성과 사용은 2021년에 증가할 것으로 기대되고 있습니다. 

> 그래서 HTTP/3가 정확히 뭔데? 
> 왜 HTTP/2 가 나온지 얼마 안되서 곧바로 또 나온걸까? 
> 우리가 어떻게 쓸 수 있고 어떻게 써야 하는거지? 
> 그리고 특히 웹 퍼포먼스를 어떻게 향상시키는거지?

자 이제 알아봅시다!



## 💀 HTTP/3에 대한 잘못된 기대가 퍼지고 있다!

이 주제에 대한 몇 가지 블로그 게시물을 읽거나 컨퍼런스 등을 듣고 어느 정도 답을 알고 있다고 생각할 수도 있습니다. "HTTP/3는 패킷 손실이 있을 때 HTTP/2보다 훨씬 빠르다." 또는 "HTTP/3 연결은 대기 시간이 짧고 설정하는 데 시간이 덜 걸린다.", 아마도 "HTTP/3 데이터를 더 빨리 보낼 수 있고 더 많은 리소스를 병렬로 보낼 수 있습니다."

위와 같은 문장과 아티클들은 종종 중대한 기술적 디테일들을 건너 뛰거나 혹은 정확한 문맥 파악을 위한 뉘앙스를 빠뜨리거나 부분적으로 맞는 얘기들이다. 종종 그들은 HTTP/3가 성능면에서 엄청난 혁명인 것처럼 보이게 말하지면 실제로는 그렇게까지 급견한 진화는 아닌(그러나 여전히 유용한!) 진화입니다. 이것은 자칫 위험합니다. 왜냐하면 새로운 프로토콜이 실질적으로 이렇게까지 높은 기대치를 충족시키기지 못해서 살아남지 못할 수도 있기 떄문입니다. 따라서 나는 이것들이 많은 사람들을 결국 실망시켜서 새로온 사람들에게 맹목적인 오해를 아주 오래도록 각인시키게 될까 두렵습니다.

나는 HTTP/2에서 똑같은 일이 일어나는 것을 보았습니다. 당시 서버 푸시, 병렬 스트림 및 우선 순위 지정과 같은 흥미로운 새 기능으로 놀라운 성능 혁명으로 예고되었습니다. 특히 '리소스 번들링을 중지하고 여러 서버에서 리소스 분할을 중지하고 페이지 로드 프로세스를 크게 간소화할 수 있었습니다. 스위치만 누르면 웹사이트가 마법처럼 50% 빨라집니다!'와 같이 너무 큰 기대를 불러모았죠.

5년이 지나고 나서, 우리는 서버푸시가 실질적으로 그렇게 작동하지 않는다는 것과 스트림 및 우선 순위 지정은 종종 잘못 구현된다는 것을 압니다. 그리고 결과적으로 어떤 상황에서는 (감소된) 리소스 번들링 및 샤딩조차도 일부 상황에서 여전히 좋은 방법입니다. 마찬가지로 PreloadHint 힌트와 같이 프로토콜 동작을 조정하는 다른 메커니즘에는 종종 숨겨진 깊이와 버그가 포함되어 있어 올바르게 사용하기 어렵습니다. 때문에 나는 이런 잘못된 오보를 막아 HTTP/3에 대한 비현실적인 기대감이 널리 퍼지기 전에 막는 것이 중요하다고 판단했습니다.

이 글에서 나는 새로운 프로토콜과 특히 그 퍼포먼스적 특징에 대해 이야기할 것입니다. 그리고 HTTP3의 유망한 새로운 컨셉과 그렇지만 동시에 슬프게도 대부분의 웹 페이지에와 유저에게는 제한된 임팩트만을 줄 것에 대해 이야기하겠습니다. HTTP3는 또한 준비하고 사용하기 까지 꽤 어렵습니다. 때문에 새로운 프로토콜을 이해하기 위해 단단히 준비하세

요!

이 시리즈는 **<u>크게 3가지 파트</u>**로 나뉩니다:

### 01. HTTP/3 history and core concepts HTTP/3에 관한 역사와 핵심 컨셉

: 일반적으로 HTTP/3 및 프로토콜을 처음 접하는 사람들을 대상으로 하며 기본 사항들에 대해 설명합니다.

### 02. HTTP/3 Perfomance features: 퍼포먼스적 특징

: 더 깊이 있고 기술적인 파트입니다. 기본 사항을 이미 알고 있는 사람들은 1번을 스킵하고 여기부터 시작해도 좋습니다.

### 03. Practical HTTP/3 deployment options: 실질적 배포 옵션

: HTTP/3를 직접 배포하고 테스트하는 것과 관련된 문제를 설명합니다. 웹 페이지와 리소스도 변경해야 할 수도 있는데, 그렇게 하는 방법과 그렇게 해야 하는 이유에 대해 자세히 설명합니다.

이 시리즈는 프로토콜에 대한 깊은 이해가 필요없는 웹 개발자들을 타겟으로 쓰였습니다. 그러나, 충분한 양의 기술적 디테일과 많은 외부링크들을 포함하고 있으므로 advanced readers들 역시 충분히 배울 것이 있을 겁니다.



## ❓ HTTP/3 도대체 왜 필요한건데?

종종 드는 생각인데, "HTTP2가 나온 2015 이후에 왜이렇게 빨리 HTTP3가 필요해진거지?" 이 질문에 대해서 사실 당신이 새로운 HTTP버전이 굳이 필요하지는 않지만 TCP의 업그레이드가 필요하다는 것을 깨닫기 전까지는 이상하다고 느낄것이다. 

(새로운 HTTP로 보기보단 TCP의 업그레이드 버전이라는 관점에서 보면 HTTP3가 2버전 이후 빠르게 다시 나오는 것을 이해할 수 있다는 의미로 해석됩니다.)

TCP는 HTTP와 같이 다른 프로토콜에 대한 안정성(reliability) 및 순서 전달(in-order delivery)과 같은 중요한 서비스를 제공하는 주요 프로토콜입니다. 이 프로토콜이 사용자 대역폭 사용량을 스마트하고 공정하게 제한하는덕분에 수많은 사람이 인터넷에 동시 접속을해도 사용할 수 있습니다.

프로토콜의 이러한 "계층화(Layering)"는 해당 기능을 쉽게 재사용할 수 있도록 하기 위해 수행됩니다. 상위 계층 프로토콜(예: HTTP)은 하위 계층 프로토콜(예: TLS)이 이미 이를 수행하기 때문에 복잡한 기능(예: 암호화)을 다시 구현할 필요가 없습니다. 또 다른 예로 인터넷의 대부분의 응용 프로그램은 내부적으로 TCP를 사용하여 모든 데이터가 완전히 전송되도록 합니다. 이러한 이유로 TCP는 인터넷에서 가장 널리 사용되고 배포된 프로토콜 중 하나입니다.

![프로토콜레이어](https://cloud.netlifyusercontent.com/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/6ef36d1e-d91e-43e0-8732-f3e66ba9ea64/protocol-stack-h2-h3.png)

TCP는 수십 년 동안 웹의 초석이었지만 2000년대 후반에 그 단점(원문 age를 의역함.)을 보여주기 시작했습니다. QUIC라는 이름의 새로운 전송 프로토콜은 TCP와 몇 가지 주요 면에서 충분히 다르기 때문에 그 위에서 직접 HTTP/2를 실행하는 것이 매우 어려울 수 있습니다. 따라서 **HTTP/3 자체는 사람들이 열광하는 대부분의 새로운 기능을 포함하는 새로운 QUIC 프로토콜과 호환되도록 HTTP/2를 비교적 작게 개조한 것**입니다.

