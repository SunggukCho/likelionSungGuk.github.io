---
title: ES2021 최신 자바스크립트 새롭게 추가된 기능 살펴보기
date: 2021-08-03 20:18:01
permalink: /:short_year-:month-:day/:title
categories: [web/network, frontend, 면접]
tags: [javascript, 자바스크립트]
---

# ES2021 최신 자바스크립트 새롭게 추가된 기능을 알아보자

## replaceAll

String을 변경해주는 replace의 upgrade 버전이다. 

'그냥 replace쓰면 되는거 아니야?'라고 생각할 수 있지만 특수문자가 들어간 경우 정규표현식을 써야해서 다소 복잡해지는 경우가 많은데, replaceAll이 있으면 훨씬 간편하다. 비교해서 보자.



> Mike와 Car앞뒤로 있는 대괄호를 중괄호로 바꿔보자.

```javascript
// replace
const str1 = "I'm [Mike]. This is Tom's [Car]";
str1.replace(/\[/g, "~").replace(/\]/g, "~");
```

이렇게 정규표현식을 써서 대괄호의 각각'[' , ']'을 설정하고 'g'로 모든 해당 기호를 선택한 뒤 변경해줘야한다.

```javascript
// replaceAll
const str2 = "I'm [Mike]. This is Tom's [Car]";
str2.replaceAll("[", "~").replaceAll("]", "~")
```

정규표현식을 쓸 필요없이 직관적으로 쉽게 사용이 가능하다.



## Promise.any

promise.race의 경우 가장 빠르게 처리되는 객체를 반환합니다.

예를 들어 두 개의 Promise요청이 있을 경우, Reject된 요청이 더 빠르게 도착한다면 promise.race는 'Reject'를 반환 할 것입니다.

하지만 우리는 여러개의 요청 중 하나만이라도 성공하는게 있는지 알고 싶을 때가 있습니다. 이 경우 새로 생긴 `Promise.any`를 사용할 수 있습니다.

```javascript
// 1. 
const Fail = new Promise((res, reject) => {
    setTimeOut(()=> {
        reject("fail..")
    }, 1000)
})
const Success = new Promise((res, reject) => {
    setTimeOut(()=> {
        res("success!")
    }, 2000)
})

const promiseRace = Promise.race([Fail, Success])
// log -> fail..
const promiseAny = Promise.any([Fail, Success])
// log -> sucess!
```



## ||= , &&= , ??=

정식명칭은 `Logical Assignment Operator` 입니다. 

```javascript
// 1. ||=
    name = name || 'anonymous'
위 코드는 다음과 같이 쓰일 수 있습니다.
    name ||= 'anonymous'

// 2. &&=
    name = name && `Hello ${name}`
			===
    name &&= `Hello ${name}`;

// 3. ??= (Null병합연산자)
	name = name ?? "Mike";
	name ??= "Mike"
```

- Null 병합 연산자와 OR의 차이는 다음과 같다.

  - `**||**` : 앞의 값이 falsy이면 뒤의 값
  - `**??**` : 앞의 값이 null이나 undefined 이면 뒤의 값 

  ```javascript
  let num = 0
  let a = num || 3
  // a는?
  // -> a = 3
  
  let b = num ?? 3
  // b는? 
  // -> b = 0
  null이나 undefined가 아니므로 num(0)이 b가 된다.
  ```

  
